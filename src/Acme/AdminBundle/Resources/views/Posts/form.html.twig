{% extends "AcmeAdminBundle::layout.html.twig" %}

{% block body %}
    <div class="page-header">
        <h1>Post <small>{{ action }}</small></h1>
    </div>

    {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
        <h3>Basic information</h3>
        <div class="form-group{% if form.date.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.date, 'Post in date', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.date.year, {'attr': {'class': 'form-control'}}) }}
                {{ form_widget(form.date.month, {'attr': {'class': 'form-control'}}) }}
                {{ form_widget(form.date.day, {'attr': {'class': 'form-control'}}) }}

                <span class="help-block">
                    {{ form_errors(form.date) }}
                </span>
            </div>
        </div>

        <div class="form-group{% if form.rating.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.rating, 'Rating', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.rating, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.rating) }}
                </span>
            </div>
        </div>

        <div class="form-group{% if form.locale.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.locale, 'Locale', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.locale, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.locale) }}
                </span>
            </div>
        </div>

        <div class="form-group{% if form.slug.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.slug, 'Pretty name', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.slug, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.slug) }}
                </span>
            </div>
        </div>

        <div class="form-group{% if form.description.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.description, 'Description', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.description) }}
                </span>
            </div>
        </div>

        <h3>Picture</h3>
        <div class="form-group{% if form.picture.url.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.picture.url, 'Url', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.picture.url, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.picture.url) }}
                </span>
            </div>
        </div>

        <div class="form-group{% if form.picture.title.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.picture.title, 'Title', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.picture.title, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.picture.title) }}
                </span>
            </div>
        </div>

        <h3>Categories</h3>
        <div class="form-group{% if form.categories.vars.errors|length > 0 %} has-error{% endif %}">
            {{ form_label(form.categories, 'Categories', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.categories, {'attr': {'class': 'form-control'}}) }}
                <span class="help-block">
                    {{ form_errors(form.categories) }}
                </span>
            </div>
        </div>

        <h3>Comments</h3>
        <ul class="comments" data-prototype="{{ form_widget(form.comments.vars.prototype)|e }}">
            {% for comment in form.comments %}
                <li>{{ form_row(comment.text) }}</li>
            {% endfor %}
        </ul>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-8">
                {{ form_row(form.send, {'attr': {'class': 'btn btn-primary btn-block' }}) }}
            </div>
        </div>
    {{ form_end(form) }}
{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset('bundles/acmeadmin/js/addForm.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/acmeadmin/js/addComment.js') }}"></script>
{% endblock %}
